<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Fake-server</title>
</head>
<body>
<h1>Fake server</h1>
<form id="form" action="/create-route" method="POST">
    <label>
        <input class="field" type="text" data-name="path" placeholder="request path">
    </label>
    <label>
        <input class="field" type="text" data-name="status" placeholder="request status">
    </label>

    <label>
        <input class="field" type="text" data-name="filename" placeholder="filename">
    </label>
    <label>
        <textarea class="field" data-name="json" placeholder="response json"></textarea>
    </label>
    <button>Create request</button>
</form>

<script>
    const form = document.getElementById('form')
    const fields = form.querySelectorAll('.field');
    let data = {}
    form.addEventListener('submit', e => {
        e.preventDefault();
        fields.forEach(field => {
            const name = field.dataset.name;
            const value = field.value;
            data[name] = value
        });

        fetch('/create-route', {
            method: "POST",
            body: JSON.stringify(data)
        }).then(() => {
            data = {}
            fields.forEach(field => {
                field.value = ''
            });
        })
    })
</script>
</body>
</html>
